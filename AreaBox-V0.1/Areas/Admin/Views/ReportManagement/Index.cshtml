@model AreaBox_V0._1.Areas.Admin.Models.ReportManagementViewModel.MediaQuestionPostsReportViewModel
@{
	ViewData["Title"] = "Index";
}
<h3>Loction :</h3>
<div class="mb-3">
	<div style="display: inline-block; margin-right: 10px;">
		<div class="form-label">Country:</div>
		<select style="width:300px" class="form-select">
			<option value="1">One</option>
			<option value="2">Two</option>
			<option value="3">Three</option>
		</select>
	</div>
	<div style="display: inline-block; margin-right: 10px;">
		<div class="form-label">Post Report Type:</div>
		<select style="width:300px" class="form-select">
			<option value="1">One</option>
			<option value="2">Two</option>
			<option value="3">Three</option>
		</select>
	</div>


</div>

<div class="mb-3">
	<div style="display: inline-block; margin-right: 10px;">
		<div class="form-label">City:</div>
		<select style="width:300px" class="form-select">
			<option value="1">One</option>
			<option value="2">Two</option>
			<option value="3">Three</option>
		</select>
	</div>

	<div style="display: inline-block; margin-right: 10px;">
		<div class="form-label">Category:</div>
		<select style="width:300px" class="form-select">
			<option value="1">One</option>
			<option value="2">Two</option>
			<option value="3">Three</option>
		</select>
	</div>
	<a style="display: inline-block; width:100px" href="#" class="btn btn-primary">
		Submit
	</a>
</div>

<div style="display: flex;align-items: center;">
	<h3 style="margin: 0; margin-right:10px">Post Type :</h3>
	<a style="text-decoration: none; margin-right:15px" href="#">Media</a>
	<a style="text-decoration: none" href="#">Question</a>
</div>


<div class="row row-cards">
	<div class="col-12">
		<div class="card">
			<div class="table-responsive">
				<table border="1" class="table table-vcenter card-table table-striped">
					<thead>
						<tr>
							<th>ID</th>
							<th>User</th>
							<th>Number Of Report</th>
							<th>State</th>
							<th>Control</th>
							<th class="w-1"></th>
						</tr>
					</thead>
					<tbody>

						@foreach (var item in Model.MediaPostsReports)
						{
							<tr>
								<td>@item.PostReportId</td>
								<td>@item.User.Id</td>
								<td class="text-secondary">
									@Model.MediaPostsReports.Count()
								</td>
								<td>
									gvdfgvdf
								</td>
								<td>

									<button type="button" class="btn btn-purple w-100" data-bs-toggle="modal" data-bs-target="#mediaManagementModal" data-id="@item.PostReportId">
										View
									</button>
								</td>
							</tr>
						}
						@*                         <tr>
						<td>2</td>
						<td>Maryjo Lebarree</td>
						<td class="text-secondary">
						5
						</td>
						<td>
						<span class="badge bg-danger me-1"></span> Suspended
						</td>
						<td>
						<a href="#" class="btn btn-purple w-100">
						View
						</a>
						</td>
						</tr>

						<tr>
						<td>3</td>
						<td>Maryjo Lebarree</td>
						<td class="text-secondary">
						20
						</td>
						<td>
						<span class="badge bg-success me-1"></span> Published
						</td>
						<td>
						<a href="#" class="btn btn-purple w-100">
						View
						</a>
						</td>
						</tr>

						<tr>
						<td>4</td>
						<td>Maryjo Lebarree</td>
						<td class="text-secondary">
						9
						</td>
						<td>
						<span class="badge bg-success me-1"></span> Published
						</td>
						<td>
						<a href="#" class="btn btn-purple w-100">
						View
						</a>
						</td>
						</tr>

						<tr>
						<td>5</td>
						<td>Maryjo Lebarree</td>
						<td class="text-secondary">
						50
						</td>
						<td>
						<span class="badge bg-danger me-1"></span> Suspended
						</td>
						<td>
						<a href="#" class="btn btn-purple w-100">
						View
						</a>
						</td>
						</tr>

						<tr>
						<td>6</td>
						<td>Maryjo Lebarree</td>
						<td class="text-secondary">
						8
						</td>
						<td>
						<span class="badge bg-success me-1"></span> Published
						</td>
						<td>
						<a href="#" class="btn btn-purple w-100">
						View
						</a>
						</td>
						</tr>

						<tr>
						<td>7</td>
						<td>Maryjo Lebarree</td>
						<td class="text-secondary">
						30
						</td>
						<td>
						<span class="badge bg-success me-1"></span> Published
						</td>
						<td>
						<a href="#" class="btn btn-purple w-100">
						View
						</a>
						</td>
						</tr>

						<tr>
						<td>8</td>
						<td>Maryjo Lebarree</td>
						<td class="text-secondary">
						90
						</td>
						<td>
						<span class="badge bg-danger me-1"></span> Suspended
						</td>
						<td>
						<a href="#" class="btn btn-purple w-100">
						View
						</a>
						</td>
						</tr> *@





					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>

<div class="modal" id="mediaManagementModal" tabindex="-1">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Media Post Details</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">

				<div id="mediaDetails">
				</div>

			</div>
			<div class="modal-footer">
				<button type="button" class="btn me-auto" data-bs-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
	$(document).ready(function () {
		$('#mediaManagementModal').on('show.bs.modal', function (event) {
			var button = $(event.relatedTarget);
			var PostReportId = button.data('id');


			$.ajax({
				url: `/AdminApi/GetMediaPostReportDetails/${PostReportId}`,
				type: 'GET',
				data: { id: PostReportId },
				success: function (data) {
					$('#mediaDetails').html(`
										<p>report Id: ${data.reportId}</p>
										<p>user Name: ${data.userName}</p>
										<p>user Email: ${data.userEmail}</p>
										<p>report Type: ${data.reportType}</p>
										<p>report Type Description: ${data.reportTypeDescription}</p>
								`);

				},
				error: function (error) {
					console.error('Error fetching media details:', error);
				}
			});
		});
	});
</script>