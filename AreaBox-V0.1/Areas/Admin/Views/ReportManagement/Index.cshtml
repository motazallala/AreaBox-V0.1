@model AreaBox_V0._1.Areas.Admin.Models.ReportManagementViewModel.MediaQuestionPostsReportViewModel
@{
    ViewData["Title"] = "Index";
}
        <div class="page-body">
          <div class="container-xl">
            <div class="row row-cards">
              <div class="col-lg-6">
                <div class="card">
                  <div class="card-body">
                    <h3 class="card-title">Media Post Reports :</h3>
                        <div class="input-icon"><h3>Count Report = @Model.MediaPostsReports.Count()</h3></div>
                        <div class="card-footer">
                  <div class="row align-items-center">
                    <div class="col"></div>
                    <div class="col-auto">
                      <a asp-action="MediaPostsReports" asp-controller="ReportManagement" class="btn btn-primary">
                        More Details
                      </a>
                    </div>
                  </div>
                </div>

                        
                  </div>
                </div>
              </div>

              <div class="col-lg-6">
                <div class="card">
                  <div class="card-body">
                    <h3 class="card-title">Question Post Reports :</h3>
                        <div class="input-icon"><h3>Count Report = @Model.QuestionPostsReports.Count()</h3></div>
                        <div class="card-footer">
                  <div class="row align-items-center">
                    <div class="col"></div>
                    <div class="col-auto">
                      <a asp-action="QuestionPostsReports" asp-controller="ReportManagement" class="btn btn-primary">
                        More Details
                      </a>
                    </div>
                  </div>
                </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

<div class="modal" id="mediaManagementModal" tabindex="-1">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Media Post Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

                <div id="mediaDetails">
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn me-auto" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    $(document).ready(function () {
        $('#mediaManagementModal').on('show.bs.modal', function (event) {
            var button = $(event.relatedTarget);
            var PostReportId = button.data('id');
    

            $.ajax({
                url: `/AdminApi/GetMediaPostReportDetails/${PostReportId}`,
                type: 'GET',
                data: { id: PostReportId },
                success: function (data) {
                    $('#mediaDetails').html(`
                                    <p>report Id: ${data.reportId}</p>
                                    <p>user Name: ${data.userName}</p>
                                    <p>user Email: ${data.userEmail}</p>
                                    <p>report Type: ${data.reportType}</p>
                                    <p>report Type Description: ${data.reportTypeDescription}</p>
                            `);

                },
                error: function (error) {
                    console.error('Error fetching media details:', error);
                }
            });
        });
    });
</script>